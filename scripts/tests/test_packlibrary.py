from encodings.cp850 import Codec
import genericpath
from instrumentlibrary import InstrumentLibrary
from instrumentreport import InstrumentLibraryReport
import json
from mock import patch
import ntpath
import os
import os, os.path, shutil, sys, time, json, copy
from packlibrary import PackLibrary
from packreport import PackLibraryReport
from sample import Sample
import shutil
from sortedlist import SortedList
import unittest


class PacklibraryTest(unittest.TestCase):
    @patch.object(PackLibraryReport, '__init__')
    @patch.object(InstrumentLibraryReport, '__init__')
    @patch.object(json, 'loads')
    @patch.object(genericpath, 'exists')
    @patch.object(json, 'dumps')
    def test_create(self, mock_dumps, mock_exists, mock_loads, mock___init__, mock___init__):
        mock_dumps.return_value = '{\n    "words": {\n        "Jazz Sax and Bass": {\n            "words": {\n                "bass": {\n                    "total": 7, \n                    "other": 0, \n                    "bass": 7\n                }, \n                "horns-and-reeds": {\n                    "total": 13, \n                    "sax": 13, \n                    "other": 0\n                }\n            }\n        }, \n        "Electronic Indie Session": {\n            "words": {\n                "guitar": {\n                    "guitar": 8, \n                    "total": 8, \n                    "other": 0\n                }, \n                "percussion": {\n                    "total": 6, \n                    "other": 0, \n                    "bells": 6\n                }, \n                "synths": {\n                    "total": 5, \n                    "other": 2, \n                    "hat": 1, \n                    "kick": 2\n                }, \n                "bass": {\n                    "total": 1, \n                    "other": 0, \n                    "bass": 1\n                }\n            }\n        }\n    }, \n    "samples": {\n        "Jazz Sax and Bass": [\n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-10", \n                "basename": "bass-10", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-10_bass_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/one-shot/128/Jazz Sax and Bass/david-lizmi-bass-10.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-15", \n                "basename": "bass-15", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-15_bass_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/one-shot/128/Jazz Sax and Bass/david-lizmi-bass-15.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-19", \n                "basename": "bass-19", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-19_bass_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/one-shot/128/Jazz Sax and Bass/david-lizmi-bass-19.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-7", \n                "basename": "bass-7", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-7_bass_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/one-shot/128/Jazz Sax and Bass/david-lizmi-bass-7.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-10", \n                "basename": "bass-loop-10", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-10_bass_loop_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/loop/152/Jazz Sax and Bass/david-lizmi-bass-loop-10.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-14", \n                "basename": "bass-loop-14", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-14_bass_loop_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/loop/152/Jazz Sax and Bass/david-lizmi-bass-loop-14.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-6", \n                "basename": "bass-loop-6", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-6_bass_loop_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/loop/152/Jazz Sax and Bass/david-lizmi-bass-loop-6.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-12", \n                "basename": "sax-12", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-12_horns-and-reeds_one_shot_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/152/Jazz Sax and Bass/timo-vollbrecht-sax-12.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-21", \n                "basename": "sax-21", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-21_horns-and-reeds_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/128/Jazz Sax and Bass/timo-vollbrecht-sax-21.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-24", \n                "basename": "sax-24", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-24_horns-and-reeds_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/128/Jazz Sax and Bass/timo-vollbrecht-sax-24.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-33", \n                "basename": "sax-33", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-33_horns-and-reeds_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/128/Jazz Sax and Bass/timo-vollbrecht-sax-33.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-35", \n                "basename": "sax-35", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-35_horns-and-reeds_one_shot_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/128/Jazz Sax and Bass/timo-vollbrecht-sax-35.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-7", \n                "basename": "sax-7", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-7_horns-and-reeds_one_shot_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/152/Jazz Sax and Bass/timo-vollbrecht-sax-7.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-9", \n                "basename": "sax-9", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-9_horns-and-reeds_one_shot_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/one-shot/152/Jazz Sax and Bass/timo-vollbrecht-sax-9.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-13", \n                "basename": "sax-loop-13", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-loop-13_horns-and-reeds_loop_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/loop/152/Jazz Sax and Bass/timo-vollbrecht-sax-loop-13.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-15", \n                "basename": "sax-loop-15", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-loop-15_horns-and-reeds_loop_152.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/loop/152/Jazz Sax and Bass/timo-vollbrecht-sax-loop-15.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-18", \n                "basename": "sax-loop-18", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-18_horns-and-reeds_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/loop/128/Jazz Sax and Bass/timo-vollbrecht-sax-loop-18.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-24", \n                "basename": "sax-loop-24", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-24_horns-and-reeds_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/loop/128/Jazz Sax and Bass/timo-vollbrecht-sax-loop-24.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-29", \n                "basename": "sax-loop-29", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-29_horns-and-reeds_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/loop/128/Jazz Sax and Bass/timo-vollbrecht-sax-loop-29.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-stem-2", \n                "basename": "sax-stem-2", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-stem-2_horns-and-reeds_stem_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/horns-and-reeds/sax/stem/128/Jazz Sax and Bass/timo-vollbrecht-sax-stem-2.wav", \n                "instrument": "horns-and-reeds", \n                "type": "stem", \n                "pack": "Jazz Sax and Bass"\n            }\n        ], \n        "Electronic Indie Session": [\n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-1", \n                "basename": "felipe-guitar-di-stem-1", \n                "bpm": "98", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-1_guitar_stem_98.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/stem/98/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-1.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-2", \n                "basename": "felipe-guitar-di-stem-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-2_guitar_stem_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/stem/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-2.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-2", \n                "basename": "felipe-guitar-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-2.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-2", \n                "basename": "felipe-guitar-loop-2", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-2.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-3", \n                "basename": "felipe-guitar-loop-3", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-3_guitar_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-3.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-1", \n                "basename": "jordan-guitar-1", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-1_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-1.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-2", \n                "basename": "jordan-guitar-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-2_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-2.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-3", \n                "basename": "jordan-guitar-3", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-3_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-3.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-2", \n                "basename": "bells-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_bells-2_percussion_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-2.wav", \n                "instrument": "percussion", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-5", \n                "basename": "bells-5", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_bells-5_percussion_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-5.wav", \n                "instrument": "percussion", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-loop-2", \n                "basename": "bells-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-loop-2_percussion_loop_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-loop-2.wav", \n                "instrument": "percussion", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-loop-3", \n                "basename": "bells-loop-3", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-loop-3_percussion_loop_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-loop-3.wav", \n                "instrument": "percussion", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-stem-1", \n                "basename": "bells-stem-1", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_bells-stem-1_percussion_stem_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/stem/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-stem-1.wav", \n                "instrument": "percussion", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-stem-2", \n                "basename": "bells-stem-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-stem-2_percussion_stem_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/percussion/bells/stem/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-stem-2.wav", \n                "instrument": "percussion", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "other", \n                "name": "torches-balancer-mainland-mr.-james-cpu-di-loop-1", \n                "basename": "cpu-di-loop-1", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-di-loop-1_synths_loop_128.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/synths/other/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-di-loop-1.wav", \n                "instrument": "synths", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "hat", \n                "name": "torches-balancer-mainland-mr.-james-cpu-hat-5", \n                "basename": "cpu-hat-5", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-hat-5_synths_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/synths/hat/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-hat-5.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "kick", \n                "name": "torches-balancer-mainland-mr.-james-cpu-kick-1", \n                "basename": "cpu-kick-1", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-kick-1_synths_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/synths/kick/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-kick-1.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "kick", \n                "name": "torches-balancer-mainland-mr.-james-cpu-kick-3", \n                "basename": "cpu-kick-3", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-kick-3_synths_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/synths/kick/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-kick-3.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "other", \n                "name": "torches-balancer-mainland-mr.-james-cpu-stutter-2", \n                "basename": "cpu-stutter-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-stutter-2_synths_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/synths/other/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-stutter-2.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "torches-balancer-mainland-mr.-james-bass-loop-2", \n                "basename": "bass-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bass-loop-2_bass_loop_100.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/bass/bass/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bass-loop-2.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }\n        ], \n        "Ethereal Guitar and Vocals": [\n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-1", \n                "basename": "ariah-1", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-1_vocals_one_shot_149.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/149/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-1.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-2", \n                "basename": "ariah-2", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-2_vocals_one_shot_149.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/149/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-2.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-3", \n                "basename": "ariah-3", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-3_vocals_one_shot_149.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/149/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-3.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-4", \n                "basename": "ariah-4", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-4_vocals_one_shot_149.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/149/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-4.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-1", \n                "basename": "guitar-1", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-1_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-1.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-2", \n                "basename": "guitar-2", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-2_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-2.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-3", \n                "basename": "guitar-3", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-3_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-3.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-4", \n                "basename": "guitar-4", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-4_guitar_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-4.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-11", \n                "basename": "guitar-loop-11", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-11_guitar_loop_82.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/loop/82/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-11.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-12", \n                "basename": "guitar-loop-12", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-12_guitar_loop_82.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/loop/82/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-12.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-13", \n                "basename": "guitar-loop-13", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-13_guitar_loop_82.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/loop/82/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-13.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-15", \n                "basename": "guitar-loop-15", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-15_guitar_loop_82.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/loop/82/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-15.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-5", \n                "basename": "guitar-stem-5", \n                "bpm": "132", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-stem-5_guitar_stem_132.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/stem/132/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-5.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-6", \n                "basename": "guitar-stem-6", \n                "bpm": "145", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-stem-6_guitar_stem_145.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/guitar/None/stem/145/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-6.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-14", \n                "basename": "lewis-14", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-14_vocals_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-14.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-22", \n                "basename": "lewis-22", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-22_vocals_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-22.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-2", \n                "basename": "lewis-2", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-2_vocals_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-2.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-3", \n                "basename": "lewis-3", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-3_vocals_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-3.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-9", \n                "basename": "lewis-9", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-9_vocals_one_shot_.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/one-shot/None/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-9.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "None", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-loop-1", \n                "basename": "lewis-loop-1", \n                "bpm": "142", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-loop-1_vocals_loop_142.wav.wav", \n                "sortedpath": "C:\\\\Users\\\\athav\\\\Desktop\\\\Sample-Sorter\\\\scripts\\\\testdata\\\\sorted files/vocals/None/loop/142/Ethereal Guitar and Vocals/carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-loop-1.wav", \n                "instrument": "vocals", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }\n        ]\n    }\n}'
        mock_exists.return_value = True
        mock_loads.return_value = {u'Jazz Sax and Bass': 149, u'Electronic Indie Session': 84, u'Ethereal Guitar and Vocals': 183}
        mock___init__.return_value = None
        mock___init__.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.create(arguments=['test.py']),
            None
        )

    def test_createorderpath(self):
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.createorderpath(sample={u'subinstrument': 'kick', u'name': u'torches-balancer-mainland-mr.-james-cpu-kick-3', u'basename': u'cpu-kick-3', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_cpu-kick-3_synths_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/kick/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-kick-3.wav', u'instrument': u'synths', u'type': u'one-shot', u'pack': u'Electronic Indie Session'},order=['instrument', 'subinstrument', 'type', 'bpm', 'pack']),
            u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/kick/one-shot/None/Electronic Indie Session'
        )

    @patch.object(json, 'loads')
    @patch.object(ntpath, 'join')
    def test_editJSON(self, mock_join, mock_loads):
        mock_join.return_value = u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session\\torches-balancer-mainland-mr.-james-bells-2.wav'
        mock_loads.return_value = {u'Jazz Sax and Bass': 149, u'Electronic Indie Session': 84, u'Ethereal Guitar and Vocals': 183}
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.editJSON(),
            None
        )

    @patch.object(shutil, 'copy2')
    @patch.object(ntpath, 'join')
    def test_movesample(self, mock_join, mock_copy2):
        mock_join.return_value = u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session\\torches-balancer-mainland-mr.-james-bells-2.wav'
        mock_copy2.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.movesample(sample={u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-2', u'basename': u'bells-2', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_bells-2_percussion_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-2.wav', u'instrument': u'percussion', u'type': u'one-shot', u'pack': u'Electronic Indie Session'},path=u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session',pack=u'Electronic Indie Session'),
            None
        )

    @patch.object(InstrumentLibrary, '__init__')
    @patch.object(InstrumentLibrary, 'populate')
    @patch.object(InstrumentLibrary, 'sort')
    def test_setsubinstrument(self, mock_sort, mock_populate, mock___init__):
        mock_sort.return_value = {'continue': False, 'words': {'words': {u'guitar': {'guitar': 8, 'total': 8, 'other': 0}, u'percussion': {'total': 6, 'other': 0, 'bells': 6}, u'synths': {'total': 5, 'other': 2, 'hat': 1, 'kick': 2}, u'bass': {'total': 1, 'other': 0, 'bass': 1}}}, 'samples': [{u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-1', u'basename': u'felipe-guitar-di-stem-1', u'bpm': u'98', u'filename': u'torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-1_guitar_stem_98.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/stem/98/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-1.wav', u'instrument': u'guitar', u'type': u'stem', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-2', u'basename': u'felipe-guitar-di-stem-2', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-2_guitar_stem_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/stem/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-2.wav', u'instrument': u'guitar', u'type': u'stem', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-felipe-guitar-loop-2', u'basename': u'felipe-guitar-loop-2', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-2.wav', u'instrument': u'guitar', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-felipe-guitar-loop-2', u'basename': u'felipe-guitar-loop-2', u'bpm': u'128', u'filename': u'torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_128.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-2.wav', u'instrument': u'guitar', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-felipe-guitar-loop-3', u'basename': u'felipe-guitar-loop-3', u'bpm': u'128', u'filename': u'torches-balancer-mainland-mr.-james_felipe-guitar-loop-3_guitar_loop_128.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-felipe-guitar-loop-3.wav', u'instrument': u'guitar', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-jordan-guitar-1', u'basename': u'jordan-guitar-1', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_jordan-guitar-1_guitar_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-1.wav', u'instrument': u'guitar', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-jordan-guitar-2', u'basename': u'jordan-guitar-2', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_jordan-guitar-2_guitar_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-2.wav', u'instrument': u'guitar', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'guitar', u'name': u'torches-balancer-mainland-mr.-james-jordan-guitar-3', u'basename': u'jordan-guitar-3', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_jordan-guitar-3_guitar_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/guitar/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-jordan-guitar-3.wav', u'instrument': u'guitar', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-2', u'basename': u'bells-2', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_bells-2_percussion_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-2.wav', u'instrument': u'percussion', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-5', u'basename': u'bells-5', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_bells-5_percussion_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-5.wav', u'instrument': u'percussion', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-loop-2', u'basename': u'bells-loop-2', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_bells-loop-2_percussion_loop_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-loop-2.wav', u'instrument': u'percussion', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-loop-3', u'basename': u'bells-loop-3', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_bells-loop-3_percussion_loop_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-loop-3.wav', u'instrument': u'percussion', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-stem-1', u'basename': u'bells-stem-1', u'bpm': u'128', u'filename': u'torches-balancer-mainland-mr.-james_bells-stem-1_percussion_stem_128.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/stem/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-stem-1.wav', u'instrument': u'percussion', u'type': u'stem', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bells', u'name': u'torches-balancer-mainland-mr.-james-bells-stem-2', u'basename': u'bells-stem-2', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_bells-stem-2_percussion_stem_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/stem/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bells-stem-2.wav', u'instrument': u'percussion', u'type': u'stem', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'other', u'name': u'torches-balancer-mainland-mr.-james-cpu-di-loop-1', u'basename': u'cpu-di-loop-1', u'bpm': u'128', u'filename': u'torches-balancer-mainland-mr.-james_cpu-di-loop-1_synths_loop_128.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/other/loop/128/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-di-loop-1.wav', u'instrument': u'synths', u'type': u'loop', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'hat', u'name': u'torches-balancer-mainland-mr.-james-cpu-hat-5', u'basename': u'cpu-hat-5', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_cpu-hat-5_synths_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/hat/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-hat-5.wav', u'instrument': u'synths', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'kick', u'name': u'torches-balancer-mainland-mr.-james-cpu-kick-1', u'basename': u'cpu-kick-1', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_cpu-kick-1_synths_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/kick/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-kick-1.wav', u'instrument': u'synths', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'kick', u'name': u'torches-balancer-mainland-mr.-james-cpu-kick-3', u'basename': u'cpu-kick-3', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_cpu-kick-3_synths_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/kick/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-kick-3.wav', u'instrument': u'synths', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'other', u'name': u'torches-balancer-mainland-mr.-james-cpu-stutter-2', u'basename': u'cpu-stutter-2', u'bpm': u'None', u'filename': u'torches-balancer-mainland-mr.-james_cpu-stutter-2_synths_one_shot_.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/synths/other/one-shot/None/Electronic Indie Session/torches-balancer-mainland-mr.-james-cpu-stutter-2.wav', u'instrument': u'synths', u'type': u'one-shot', u'pack': u'Electronic Indie Session'}, {u'subinstrument': 'bass', u'name': u'torches-balancer-mainland-mr.-james-bass-loop-2', u'basename': u'bass-loop-2', u'bpm': u'100', u'filename': u'torches-balancer-mainland-mr.-james_bass-loop-2_bass_loop_100.wav.wav', u'sortedpath': u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/bass/bass/loop/100/Electronic Indie Session/torches-balancer-mainland-mr.-james-bass-loop-2.wav', u'instrument': u'bass', u'type': u'loop', u'pack': u'Electronic Indie Session'}]}
        mock_populate.return_value = None
        mock___init__.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.setsubinstrument(words={u'Jazz Sax and Bass': {u'words': {u'bass': {u'total': 7, u'other': 0, u'bass': 7}, u'horns-and-reeds': {u'total': 13, u'sax': 13, u'other': 0}}}, u'Electronic Indie Session': {'words': {u'guitar': {'guitar': 8, 'total': 8, 'other': 0}, u'percussion': {'total': 6, 'other': 0, 'bells': 6}, u'synths': {'total': 5, 'other': 2, 'hat': 1, 'kick': 2}, u'bass': {'total': 1, 'other': 0, 'bass': 1}}}}),
            {u'Jazz Sax and Bass': {u'words': {u'bass': {u'total': 7, u'other': 0, u'bass': 7}, u'horns-and-reeds': {u'total': 13, u'sax': 13, u'other': 0}}}, u'Electronic Indie Session': {'words': {u'guitar': {'guitar': 8, 'total': 8, 'other': 0}, u'percussion': {'total': 6, 'other': 0, 'bells': 6}, u'synths': {'total': 5, 'other': 2, 'hat': 1, 'kick': 2}, u'bass': {'total': 1, 'other': 0, 'bass': 1}}}}
        )

    @patch.object(Codec, 'encode')
    def test_sortfiles(self, mock_encode):
        mock_encode.return_value = ('C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/guitar/None/stem', 83)
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.sortfiles(order=['instrument', 'subinstrument', 'type', 'bpm', 'pack']),
            None
        )

    @patch.object(os, 'makedirs')
    def test_trycreatepath(self, mock_makedirs):
        mock_makedirs.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.trycreatepath(path=u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\testdata\\sorted files/percussion/bells/stem/128/Electronic Indie Session'),
            None
        )

if __name__ == "__main__":
    unittest.main()
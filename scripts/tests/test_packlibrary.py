from dominate.document import document
from dominate.dom_tag import dom_tag
from dominate.tags import *
from dominate.tags import input_
import encodings
import genericpath
from instrumentlibrary import InstrumentLibrary
from instrumentreport import InstrumentLibraryReport
import json
import json, dominate
from mock import patch
import ntpath
import os
import os, os.path, shutil, sys, time, json, copy
from packlibrary import PackLibrary
from packreport import PackLibraryReport
from sample import Sample
from sortedlist import SortedList
import unittest


class PacklibraryTest(unittest.TestCase):
    @patch.object(PackLibraryReport, '__init__')
    @patch.object(InstrumentLibraryReport, '__init__')
    @patch.object(json, 'loads')
    @patch.object(genericpath, 'exists')
    @patch.object(json, 'dumps')
    def test_create(self, mock_dumps, mock_exists, mock_loads, mock___init__, mock___init__):
        mock_dumps.return_value = '{\n    "words": {\n        "Jazz Sax and Bass": {\n            "words": {\n                "bass": {\n                    "total": 7, \n                    "other": 0, \n                    "bass": 7\n                }, \n                "horns-and-reeds": {\n                    "total": 13, \n                    "sax": 13, \n                    "other": 0\n                }\n            }\n        }, \n        "Electronic Indie Session": {\n            "words": {\n                "guitar": {\n                    "guitar": 8, \n                    "total": 8, \n                    "other": 0\n                }, \n                "percussion": {\n                    "total": 6, \n                    "other": 0, \n                    "bells": 6\n                }, \n                "synths": {\n                    "total": 5, \n                    "hat": 1, \n                    "other": 2, \n                    "kick": 2\n                }, \n                "bass": {\n                    "total": 1, \n                    "other": 0, \n                    "bass": 1\n                }\n            }\n        }, \n        "Ethereal Guitar and Vocals": {\n            "words": {\n                "guitar": {\n                    "guitar": 10, \n                    "total": 10, \n                    "other": 0\n                }, \n                "vocals": {\n                    "ariah": 4, \n                    "lewis": 6, \n                    "other": 0, \n                    "total": 10\n                }\n            }\n        }\n    }, \n    "samples": {\n        "Jazz Sax and Bass": [\n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-10", \n                "basename": "bass-10", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-10_bass_one_shot_128.wav.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-15", \n                "basename": "bass-15", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-15_bass_one_shot_128.wav.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-19", \n                "basename": "bass-19", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-19_bass_one_shot_128.wav.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-7", \n                "basename": "bass-7", \n                "bpm": "128", \n                "filename": "david-lizmi_bass-7_bass_one_shot_128.wav.wav", \n                "instrument": "bass", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-10", \n                "basename": "bass-loop-10", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-10_bass_loop_152.wav.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-14", \n                "basename": "bass-loop-14", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-14_bass_loop_152.wav.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "david-lizmi-bass-loop-6", \n                "basename": "bass-loop-6", \n                "bpm": "152", \n                "filename": "david-lizmi_bass-loop-6_bass_loop_152.wav.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-12", \n                "basename": "sax-12", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-12_horns-and-reeds_one_shot_152.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-21", \n                "basename": "sax-21", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-21_horns-and-reeds_one_shot_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-24", \n                "basename": "sax-24", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-24_horns-and-reeds_one_shot_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-33", \n                "basename": "sax-33", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-33_horns-and-reeds_one_shot_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-35", \n                "basename": "sax-35", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-35_horns-and-reeds_one_shot_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-7", \n                "basename": "sax-7", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-7_horns-and-reeds_one_shot_152.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-9", \n                "basename": "sax-9", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-9_horns-and-reeds_one_shot_152.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "one-shot", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-13", \n                "basename": "sax-loop-13", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-loop-13_horns-and-reeds_loop_152.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-15", \n                "basename": "sax-loop-15", \n                "bpm": "152", \n                "filename": "timo-vollbrecht_sax-loop-15_horns-and-reeds_loop_152.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-18", \n                "basename": "sax-loop-18", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-18_horns-and-reeds_loop_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-24", \n                "basename": "sax-loop-24", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-24_horns-and-reeds_loop_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-loop-29", \n                "basename": "sax-loop-29", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-loop-29_horns-and-reeds_loop_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "loop", \n                "pack": "Jazz Sax and Bass"\n            }, \n            {\n                "subinstrument": "sax", \n                "name": "timo-vollbrecht-sax-stem-2", \n                "basename": "sax-stem-2", \n                "bpm": "128", \n                "filename": "timo-vollbrecht_sax-stem-2_horns-and-reeds_stem_128.wav.wav", \n                "instrument": "horns-and-reeds", \n                "type": "stem", \n                "pack": "Jazz Sax and Bass"\n            }\n        ], \n        "Electronic Indie Session": [\n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-1", \n                "basename": "felipe-guitar-di-stem-1", \n                "bpm": "98", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-1_guitar_stem_98.wav.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-di-stem-2", \n                "basename": "felipe-guitar-di-stem-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-di-stem-2_guitar_stem_100.wav.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-2", \n                "basename": "felipe-guitar-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_100.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-2", \n                "basename": "felipe-guitar-loop-2", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-2_guitar_loop_128.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-felipe-guitar-loop-3", \n                "basename": "felipe-guitar-loop-3", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_felipe-guitar-loop-3_guitar_loop_128.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-1", \n                "basename": "jordan-guitar-1", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-1_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-2", \n                "basename": "jordan-guitar-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-2_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "torches-balancer-mainland-mr.-james-jordan-guitar-3", \n                "basename": "jordan-guitar-3", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_jordan-guitar-3_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-2", \n                "basename": "bells-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_bells-2_percussion_one_shot_.wav.wav", \n                "instrument": "percussion", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-5", \n                "basename": "bells-5", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_bells-5_percussion_one_shot_.wav.wav", \n                "instrument": "percussion", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-loop-2", \n                "basename": "bells-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-loop-2_percussion_loop_100.wav.wav", \n                "instrument": "percussion", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-loop-3", \n                "basename": "bells-loop-3", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-loop-3_percussion_loop_100.wav.wav", \n                "instrument": "percussion", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-stem-1", \n                "basename": "bells-stem-1", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_bells-stem-1_percussion_stem_128.wav.wav", \n                "instrument": "percussion", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bells", \n                "name": "torches-balancer-mainland-mr.-james-bells-stem-2", \n                "basename": "bells-stem-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bells-stem-2_percussion_stem_100.wav.wav", \n                "instrument": "percussion", \n                "type": "stem", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "other", \n                "name": "torches-balancer-mainland-mr.-james-cpu-di-loop-1", \n                "basename": "cpu-di-loop-1", \n                "bpm": "128", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-di-loop-1_synths_loop_128.wav.wav", \n                "instrument": "synths", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "hat", \n                "name": "torches-balancer-mainland-mr.-james-cpu-hat-5", \n                "basename": "cpu-hat-5", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-hat-5_synths_one_shot_.wav.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "kick", \n                "name": "torches-balancer-mainland-mr.-james-cpu-kick-1", \n                "basename": "cpu-kick-1", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-kick-1_synths_one_shot_.wav.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "kick", \n                "name": "torches-balancer-mainland-mr.-james-cpu-kick-3", \n                "basename": "cpu-kick-3", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-kick-3_synths_one_shot_.wav.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "other", \n                "name": "torches-balancer-mainland-mr.-james-cpu-stutter-2", \n                "basename": "cpu-stutter-2", \n                "bpm": "None", \n                "filename": "torches-balancer-mainland-mr.-james_cpu-stutter-2_synths_one_shot_.wav.wav", \n                "instrument": "synths", \n                "type": "one-shot", \n                "pack": "Electronic Indie Session"\n            }, \n            {\n                "subinstrument": "bass", \n                "name": "torches-balancer-mainland-mr.-james-bass-loop-2", \n                "basename": "bass-loop-2", \n                "bpm": "100", \n                "filename": "torches-balancer-mainland-mr.-james_bass-loop-2_bass_loop_100.wav.wav", \n                "instrument": "bass", \n                "type": "loop", \n                "pack": "Electronic Indie Session"\n            }\n        ], \n        "Ethereal Guitar and Vocals": [\n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-1", \n                "basename": "guitar-1", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-1_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-2", \n                "basename": "guitar-2", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-2_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-3", \n                "basename": "guitar-3", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-3_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-4", \n                "basename": "guitar-4", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-4_guitar_one_shot_.wav.wav", \n                "instrument": "guitar", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-11", \n                "basename": "guitar-loop-11", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-11_guitar_loop_82.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-12", \n                "basename": "guitar-loop-12", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-12_guitar_loop_82.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-13", \n                "basename": "guitar-loop-13", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-13_guitar_loop_82.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-loop-15", \n                "basename": "guitar-loop-15", \n                "bpm": "82", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-loop-15_guitar_loop_82.wav.wav", \n                "instrument": "guitar", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-5", \n                "basename": "guitar-stem-5", \n                "bpm": "132", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-stem-5_guitar_stem_132.wav.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "guitar", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-guitar-stem-6", \n                "basename": "guitar-stem-6", \n                "bpm": "145", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_guitar-stem-6_guitar_stem_145.wav.wav", \n                "instrument": "guitar", \n                "type": "stem", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "ariah", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-1", \n                "basename": "ariah-1", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-1_vocals_one_shot_149.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "ariah", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-2", \n                "basename": "ariah-2", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-2_vocals_one_shot_149.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "ariah", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-3", \n                "basename": "ariah-3", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-3_vocals_one_shot_149.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "ariah", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-ariah-4", \n                "basename": "ariah-4", \n                "bpm": "149", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_ariah-4_vocals_one_shot_149.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-14", \n                "basename": "lewis-14", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-14_vocals_one_shot_.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-22", \n                "basename": "lewis-22", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-22_vocals_one_shot_.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-2", \n                "basename": "lewis-2", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-2_vocals_one_shot_.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-3", \n                "basename": "lewis-3", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-3_vocals_one_shot_.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-9", \n                "basename": "lewis-9", \n                "bpm": "None", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-9_vocals_one_shot_.wav.wav", \n                "instrument": "vocals", \n                "type": "one-shot", \n                "pack": "Ethereal Guitar and Vocals"\n            }, \n            {\n                "subinstrument": "lewis", \n                "name": "carey-clayton-feat.-lewis-and-ariah-noetzel-lewis-loop-1", \n                "basename": "lewis-loop-1", \n                "bpm": "142", \n                "filename": "carey-clayton-feat.-lewis-and-ariah-noetzel_lewis-loop-1_vocals_loop_142.wav.wav", \n                "instrument": "vocals", \n                "type": "loop", \n                "pack": "Ethereal Guitar and Vocals"\n            }\n        ]\n    }\n}'
        mock_exists.return_value = True
        mock_loads.return_value = {u'Jazz Sax and Bass': 149, u'Electronic Indie Session': 84, u'Ethereal Guitar and Vocals': 183}
        mock___init__.return_value = None
        mock___init__.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.create(arguments=['test.py']),
            None
        )

    def test_createorderpath(self):
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.createorderpath(sample={u'subinstrument': u'other', u'name': u'torches-balancer-mainland-mr.-james-cpu-di-loop-1', u'basename': u'cpu-di-loop-1', u'bpm': u'128', u'filename': u'torches-balancer-mainland-mr.-james_cpu-di-loop-1_synths_loop_128.wav.wav', u'instrument': u'synths', u'type': u'loop', u'pack': u'Electronic Indie Session'},order=['instrument', 'subinstrument', 'type', 'bpm', 'pack']),
            u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\test data\\sorted files/synths/other/loop/128/Electronic Indie Session'
        )

    @patch.object(ntpath, 'join')
    @patch.object(json, 'loads')
    def test_editJSON(self, mock_loads, mock_join):
        mock_loads.return_value = {u'Jazz Sax and Bass': 149, u'Electronic Indie Session': 84, u'Ethereal Guitar and Vocals': 183}
        mock_join.return_value = 'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\test data\\source files\\Electronic Indie Session'
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.editJSON(),
            None
        )

    def test_setsubinstrument(self):
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.setsubinstrument(words={u'Jazz Sax and Bass': {u'words': {u'bass': {u'total': 7, u'other': 0, u'bass': 7}, u'horns-and-reeds': {u'total': 13, u'sax': 13, u'other': 0}}}, u'Electronic Indie Session': {u'words': {u'guitar': {u'guitar': 8, u'total': 8, u'other': 0}, u'percussion': {u'total': 6, u'other': 0, u'bells': 6}, u'synths': {u'total': 5, u'hat': 1, u'other': 2, u'kick': 2}, u'bass': {u'total': 1, u'other': 0, u'bass': 1}}}, u'Ethereal Guitar and Vocals': {u'words': {u'guitar': {u'guitar': 10, u'total': 10, u'other': 0}, u'vocals': {u'ariah': 4, u'lewis': 6, u'other': 0, u'total': 10}}}}),
            {u'Jazz Sax and Bass': {u'words': {u'bass': {u'total': 7, u'other': 0, u'bass': 7}, u'horns-and-reeds': {u'total': 13, u'sax': 13, u'other': 0}}}, u'Electronic Indie Session': {u'words': {u'guitar': {u'guitar': 8, u'total': 8, u'other': 0}, u'percussion': {u'total': 6, u'other': 0, u'bells': 6}, u'synths': {u'total': 5, u'hat': 1, u'other': 2, u'kick': 2}, u'bass': {u'total': 1, u'other': 0, u'bass': 1}}}, u'Ethereal Guitar and Vocals': {u'words': {u'guitar': {u'guitar': 10, u'total': 10, u'other': 0}, u'vocals': {u'ariah': 4, u'lewis': 6, u'other': 0, u'total': 10}}}}
        )

    def test_sortfiles(self):
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.sortfiles(order=['instrument', 'subinstrument', 'type', 'bpm', 'pack']),
            None
        )

    @patch.object(os, 'makedirs')
    def test_trycreatepath(self, mock_makedirs):
        mock_makedirs.return_value = None
        packlibrary_instance = PackLibrary('source files', 'sorted files', 'data/count.json', 'data/pack.json', '../../css/main.css')
        self.assertEquals(
            packlibrary_instance.trycreatepath(path=u'C:\\Users\\athav\\Desktop\\Sample-Sorter\\scripts\\test data\\sorted files/horns-and-reeds/sax/stem/128/Jazz Sax and Bass'),
            None
        )

if __name__ == "__main__":
    unittest.main()